<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>New Feature Testing</title>
  <script src="https://www.youtube.com/player_api"></script>
</head>
<body>
  <iframe onload="player1=new YT.Player(this)" onpause="pauseAll()" onplay="playAll()" onmouseover="player1.unMute()" onmouseout="player1.mute()" src="https://www.youtube.com/embed/bKZbvluHcNo?html5=1&enablejsapi=1&controls=0"> </iframe>
  <iframe onload="player2=new YT.Player(this)" onpause="pauseAll()" onplay="playAll()" onmouseover="player2.unMute()" onmouseout="player2.mute()" src="https://www.youtube.com/embed/OsLap6ZNNQo?html5=1&enablejsapi=1&controls=0"> </iframe>
<script>
  function playAll() {
    player1.playVideo();
    player2.playVideo();
}
function pauseAll() {
    player1.pauseVideo();
    player2.pauseVideo();
}
function checkPlay() {
  /*
  function state_changed(e) {
    console.log('state changed', e)
    // PLAYING
    if(e.data === 1) {
      playAll();
    } 
    // PAUSED
    if(e.data === 2){
      pauseAll();
    }
  }
  */
  var stat1 = player1.getPlayerState():Number
   var stat2 = player2.getPlayerState():Number
  if stat1 === "2" {
    alert('paused');
    player1.pauseVideo();
    player2.pauseVideo();
  }
  else if stat1 === "1" {
    alert('playing');
    player1.playVideo();
    player2.playVideo();
    }
   if stat2 === "2" {
     alert('paused');
    player1.pauseVideo();
    player2.pauseVideo();
  }
  else if stat2 === "1" {
    alert('playing');
    player1.playVideo();
    player2.playVideo();
    }
}


</script>
  </body>
</html>
